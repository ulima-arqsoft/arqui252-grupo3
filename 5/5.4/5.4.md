> [5. T√°cticas](../5.md) ‚Ä∫ [5.4. M√≥dulo 4 / Integrante 4](5.4.md)

# 5.4. M√≥dulo 4 / Integrante 4

## Escenario ESC-21: Operabilidad en Registro de Cliente

### T√°ctica Elegida
Validaci√≥n en Front-End y Manejo de Errores en Back-End

### Documentaci√≥n de la Decisi√≥n (ADR)

T√≠tulo:
Elecci√≥n entre Validaci√≥n en Front-End vs Solo Validaci√≥n en Back-End para Registro de Cliente

Contexto:
El encargado del CRM registra nuevos clientes mediante un formulario. Se requiere asegurar que todos los registros se completen correctamente y sin errores de formato o datos incompletos. Si el formulario no valida antes de enviarse, pueden ocurrir errores en el servidor o datos inconsistentes.

Alternativas:

Validaci√≥n en Front-End (React):

Previene errores antes del env√≠o

Mejora la experiencia del usuario

Reduce carga al servidor

Validaci√≥n Solo en Back-End (Node.js):

Centraliza las reglas de negocio

No previene errores tempranos

Puede generar m√°s solicitudes fallidas

Validaci√≥n Combinada:

Usa validaciones b√°sicas en front y confirmaci√≥n en back

Balance entre rendimiento y consistencia

Criterios de Elecci√≥n:

Reducci√≥n de errores de registro

Experiencia fluida para el usuario

Consistencia de datos en la base

Mantenimiento sencillo

Decisi√≥n:
Se elige Validaci√≥n Combinada (Front + Back).

Sustento:
La validaci√≥n en front-end mejora la experiencia y evita errores de formato, mientras que la validaci√≥n en back-end garantiza la integridad de datos. As√≠ se logra un 100 % de clientes registrados correctamente sin aumentar la complejidad del sistema.

## Escenario ESC-22: Exactitud en Consulta de Puntos de Fidelidad

### T√°ctica Elegida
Sincronizaci√≥n Peri√≥dica y Validaci√≥n de Consistencia de Datos

### Documentaci√≥n de la Decisi√≥n (ADR)

T√≠tulo:
Elecci√≥n entre C√°lculo en Tiempo Real vs Sincronizaci√≥n Programada para Mostrar Puntos de Fidelidad

Contexto:
Los encargados del CRM necesitan visualizar los puntos y nivel de fidelidad de cada cliente. Calcular en tiempo real cada vez puede aumentar la latencia y generar inconsistencias si hay m√∫ltiples fuentes de datos.

Alternativas:

C√°lculo en Tiempo Real:

Datos siempre actualizados

Alta carga de CPU y consultas repetidas

Sincronizaci√≥n Programada (cron job):

Actualiza cada cierto intervalo

Menor carga en consultas

Peque√±a ventana de desactualizaci√≥n

Cache Local + Validaci√≥n Peri√≥dica:

Muestra resultados r√°pidos

Revalida cada pocos minutos

Criterios de Elecci√≥n:

Exactitud de la informaci√≥n

Rapidez de consulta

Carga sobre la base de datos

Facilidad de mantenimiento

Decisi√≥n:
Se elige Sincronizaci√≥n Programada con Validaci√≥n de Consistencia.

Sustento:
El sistema sincroniza puntos de fidelidad cada minuto mediante un proceso cron, validando con la tabla de transacciones. Esto garantiza informaci√≥n actual y 0 errores detectados en pruebas, equilibrando precisi√≥n y eficiencia.

## Escenario ESC-23: Tolerancia a Errores en Env√≠o de Notificaciones

### T√°ctica Elegida
Reintentos Autom√°ticos con Registro de Estado

### Documentaci√≥n de la Decisi√≥n (ADR)

T√≠tulo:
Elecci√≥n entre Reintento Manual vs Autom√°tico en Fallos de Notificaci√≥n

Contexto:
El CRM env√≠a notificaciones a los clientes (correos, SMS). Algunos fallos ocurren por problemas temporales de red o servidor externo. Se necesita asegurar que todas las notificaciones lleguen, incluso si fallan al primer intento.

Alternativas:

Reintento Manual:

Permite control humano

Aumenta carga operativa

Reintento Autom√°tico con Intervalo Fijo:

Simple de implementar

Puede sobrecargar el sistema

Reintento Autom√°tico con Registro de Estado:

Guarda estado del intento y espera antes de reintentar

Se detiene tras varios intentos fallidos

Balance entre eficiencia y control

Criterios de Elecci√≥n:

Fiabilidad del env√≠o

Carga sobre el sistema

Simplicidad de implementaci√≥n

Capacidad de monitoreo

Decisi√≥n:
Se elige Reintento Autom√°tico con Registro de Estado.

Sustento:
Cada mensaje fallido se marca con estado ‚Äúpendiente‚Äù y se reintenta hasta lograr confirmaci√≥n. Esto garantiza que el 100 % de notificaciones sean eventualmente enviadas sin intervenci√≥n manual ni sobrecarga del sistema.

## Escenario ESC-24: Eficiencia en Consultas Simult√°neas

### T√°ctica Elegida
Uso de √çndices y Limitaci√≥n de Resultados

### Documentaci√≥n de la Decisi√≥n (ADR)

T√≠tulo:
Elecci√≥n entre Optimizaci√≥n de Consultas SQL vs Cache Local para Consultas CRM

Contexto:
El CRM debe soportar m√∫ltiples consultas simult√°neas de clientes sin degradar el rendimiento. Muchas consultas involucran filtros por nombre, correo o puntos acumulados.

Alternativas:

Cache Local:

Respuestas instant√°neas para consultas frecuentes

Riesgo de datos desactualizados

Optimizaci√≥n SQL + √çndices:

Mejora rendimiento directamente en DB

Resultados siempre actualizados

Paginaci√≥n y L√≠mite de Resultados:

Reduce cantidad de datos devueltos

Mejora experiencia del usuario

Criterios de Elecci√≥n:

Tiempo promedio de respuesta

Actualizaci√≥n de datos en tiempo real

Complejidad t√©cnica

Escalabilidad

Decisi√≥n:
Se elige Optimizaci√≥n SQL con √çndices + Paginaci√≥n.

Sustento:
El uso de √≠ndices en columnas clave y la limitaci√≥n de resultados por p√°gina mantiene tiempos de respuesta menores a 1.5 s incluso con 50 consultas simult√°neas, sin necesidad de infraestructura adicional.

## Escenario ESC-25: Seguridad ante Accesos No Autorizados

### T√°ctica Elegida
Control de Acceso Basado en Roles (RBAC) y Registro de Intentos

### Documentaci√≥n de la Decisi√≥n (ADR)

T√≠tulo:
Elecci√≥n entre Autorizaci√≥n por Rol vs Verificaci√≥n Manual para Eliminaci√≥n de Datos

Contexto:
El CRM contiene informaci√≥n sensible de clientes. Un usuario no autorizado podr√≠a intentar eliminar un registro. El sistema debe prevenir la acci√≥n y registrar el intento.

Alternativas:

Verificaci√≥n Manual (L√≥gica de Negocio):

Validaciones directas en controladores

Dif√≠cil de mantener

RBAC (Role-Based Access Control):

Define permisos por rol (admin, vendedor, etc.)

Centraliza la gesti√≥n de seguridad

RBAC + Logging de Intentos:

Agrega trazabilidad ante intentos fallidos

Facilita auditor√≠a

Criterios de Elecci√≥n:

Prevenci√≥n de accesos no autorizados

Facilidad de mantenimiento

Trazabilidad

Cumplimiento de pol√≠ticas internas

Decisi√≥n:
Se elige RBAC con Logging de Intentos.

Sustento:
El middleware RBAC bloquea acciones no permitidas y devuelve HTTP 403, mientras registra cada intento en logs de seguridad. Esto garantiza 0 accesos no autorizados y facilita la auditor√≠a de incident

[‚¨ÖÔ∏è Anterior](../5.3/5.3.md) | [üè† Home](../../README.md) | [Siguiente ‚û°Ô∏è](../5.5/5.5.md)
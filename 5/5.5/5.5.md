> [5. T√°cticas](../5.md) ‚Ä∫ [5.5. M√≥dulo 5 / Integrante 5](5.5.md)

# 5.5. M√≥dulo 5 / Integrante 5

## Escenario ESC-18: Eficiencia en Generaci√≥n de Reportes

### Escenario

| **Cod Escenario** | **Atributo de Calidad** | **Est√≠mulo** | **Fuente del Est√≠mulo** | **Artefacto** | **Entorno** | **Respuesta** | **Medida de Respuesta** |
|------------------|-------------------------|--------------|-------------------------|---------------|-------------|---------------|------------------------|
| ESC-18 | Eficiencia | 20 reportes generados simult√°neamente | Sistema | Servidor + DB | Producci√≥n | Tiempo ‚â§3s por reporte | 95% de reportes en l√≠mite |

### T√°ctica Elegida
**Cach√© de Reportes y Procesamiento As√≠ncrono**

### Documentaci√≥n de la Decisi√≥n (ADR)

**T√≠tulo**:  
Elecci√≥n entre Cach√© en Memoria vs Procesamiento S√≠ncrono para Generaci√≥n de Reportes Masivos

**Contexto**:  
El m√≥dulo de reportes debe manejar m√∫ltiples solicitudes simult√°neas de diferentes usuarios (gerentes, administradores) durante horarios pico, especialmente en temporadas altas de camping. La generaci√≥n de reportes complejos que involucran c√°lculos de m√°rgenes, an√°lisis de tendencias y consolidaci√≥n de datos puede consumir recursos significativos del servidor y base de datos, afectando el tiempo de respuesta.

**Alternativas**:
1. **Cach√© en Memoria con Redis**  
   - Almacena resultados de reportes frecuentes en memoria para respuesta inmediata
   - Implementa invalidaci√≥n inteligente basada en actualizaci√≥n de datos
   - Permite manejar picos de carga eficientemente
   - Requiere infraestructura adicional y gesti√≥n de memoria

2. **Procesamiento As√≠ncrono con Colas**  
   - Las solicitudes de reportes se encolan y procesan en segundo plano
   - Notifica al usuario cuando el reporte est√° listo para descarga
   - Mejora la experiencia de usuario durante cargas pesadas
   - Puede generar latencia en la entrega inicial

3. **Procesamiento S√≠ncrono Directo**  
   - Cada solicitud se procesa inmediatamente en el momento de la petici√≥n
   - Respuesta directa sin componentes adicionales
   - Simple implementaci√≥n pero pobre escalabilidad
   - Riesgo de timeout en solicitudes complejas

**Criterios de Elecci√≥n**:  
- Tiempo de respuesta bajo carga m√°xima (‚â§3s por reporte)
- Escalabilidad ante m√∫ltiples usuarios concurrentes
- Consistencia de datos en reportes en tiempo real
- Complejidad de implementaci√≥n y mantenimiento
- Costo de infraestructura adicional

**Decisi√≥n**:  
Se elige **Cach√© en Memoria con Redis** combinado con **Procesamiento As√≠ncrono para Reportes Complejos**

**Sustento**:  
La combinaci√≥n de cach√© para reportes frecuentes y procesamiento as√≠ncrono para reportes complejos garantiza que el 95% de los reportes se generen dentro del l√≠mite de 3 segundos, incluso con 20 solicitudes simult√°neas. Redis proporciona la velocidad necesaria para datos cacheados, mientras que el procesamiento as√≠ncrono evita que reportes computacionalmente intensivos bloqueen el sistema. Esta aproximaci√≥n h√≠brida optimiza tanto el rendimiento como la experiencia de usuario, crucial para mantener la eficiencia operativa del negocio outdoor durante temporadas de alta demanda.

---

## Escenario ESC-17: Operabilidad en Exportaci√≥n

### Escenario

| **Cod Escenario** | **Atributo de Calidad** | **Est√≠mulo** | **Fuente del Est√≠mulo** | **Artefacto** | **Entorno** | **Respuesta** | **Medida de Respuesta** |
|------------------|-------------------------|--------------|-------------------------|---------------|-------------|---------------|------------------------|
| ESC-17 | Operabilidad | Exportaci√≥n a PDF o Excel | Gerente | Sistema de reportes | Producci√≥n | Archivo generado correctamente | 100% de archivos v√°lidos |

### T√°ctica Elegida
**Reintentos con Backoff Exponencial y Validaci√≥n de Integridad**

### Documentaci√≥n de la Decisi√≥n (ADR)

**T√≠tulo**:  
Elecci√≥n entre Mecanismo de Reintentos Simple vs Backoff Exponencial para Generaci√≥n de Archivos de Exportaci√≥n

**Contexto**:  
Los usuarios del sistema (gerentes, administradores) requieren exportar reportes en formatos PDF y Excel para an√°lisis offline y presentaciones. La generaci√≥n de estos archivos puede fallar debido a problemas temporales de recursos, conexi√≥n a servicios externos o sobrecarga del sistema, especialmente durante periodos de alta demanda.

**Alternativas**:
1. **Reintentos con Backoff Exponencial**  
   - Reintentos autom√°ticos con intervalos crecientes entre intentos
   - Evita saturaci√≥n del sistema durante fallos temporales
   - Mayor probabilidad de √©xito en condiciones de carga variable
   - Implementaci√≥n m√°s compleja

2. **Reintentos Simples con Intervalo Fijo**  
   - Reintentos inmediatos o con intervalo constante
   - F√°cil implementaci√≥n pero puede agravar problemas de carga
   - Riesgo de crear bucles infinitos en fallos persistentes

3. **Fallback a Formatos Alternativos**  
   - Ofrece alternativas si el formato principal falla (ej: CSV instead of Excel)
   - Garantiza que el usuario siempre reciba alg√∫n formato de exportaci√≥n
   - Puede no cumplir con los requisitos espec√≠ficos del usuario

**Criterios de Elecci√≥n**:  
- Tasa de √©xito en generaci√≥n de archivos (100% v√°lidos)
- Resiliencia ante fallos temporales
- Experiencia de usuario durante procesos fallidos
- Complejidad de implementaci√≥n
- Capacidad de recuperaci√≥n autom√°tica

**Decisi√≥n**:  
Se elige **Reintentos con Backoff Exponencial** combinado con **Validaci√≥n de Integridad de Archivos**

**Sustento**:  
El mecanismo de backoff exponencial garantiza que el sistema no se sature con reintentos inmediatos durante fallos temporales, mientras maximiza la probabilidad de √©xito en la generaci√≥n de archivos. La validaci√≥n de integridad asegura que los archivos generados sean completamente v√°lidos y utilizables. Esta combinaci√≥n proporciona la robustez necesaria para alcanzar el 100% de archivos v√°lidos requerido, manteniendo una experiencia de usuario confiable incluso en condiciones adversas del sistema.

---

## Escenario ESC-20: Control de Auditor√≠a

### Escenario

| **Cod Escenario** | **Atributo de Calidad** | **Est√≠mulo** | **Fuente del Est√≠mulo** | **Artefacto** | **Entorno** | **Respuesta** | **Medida de Respuesta** |
|------------------|-------------------------|--------------|-------------------------|---------------|-------------|---------------|------------------------|
| ESC-20 | Control de auditor√≠a | Acceso a historial de reportes | Admin | Logs + DB | Producci√≥n | Registro completo de usuario y fecha | 100% de auditor√≠a verificable |

### T√°ctica Elegida
**Logging Estructurado con Inmutabilidad**

### Documentaci√≥n de la Decisi√≥n (ADR)

**T√≠tulo**:  
Elecci√≥n entre Logging Tradicional vs Logging Estructurado con Inmutabilidad para Auditor√≠a de Reportes

**Contexto**:  
Los administradores requieren acceso completo al historial de generaci√≥n de reportes para fines de auditor√≠a, cumplimiento y an√°lisis de uso. Es cr√≠tico que cada acci√≥n quede registrada de manera inmutable y verificable, incluyendo usuario, fecha, tipo de reporte y par√°metros utilizados.

**Alternativas**:
1. **Logging Estructurado con Base de Datos Dedicada**  
   - Registros en formato estructurado (JSON) almacenados en base de datos separada
   - Facilita b√∫squedas y reportes de auditor√≠a
   - Garantiza integridad referencial y inmutabilidad
   - Mayor overhead de almacenamiento

2. **Logging en Archivos de Texto**  
   - Registros en archivos de log tradicionales
   - Simple implementaci√≥n pero dif√≠cil consulta y an√°lisis
   - Riesgo de manipulaci√≥n o p√©rdida de logs
   - Escalabilidad limitada

3. **Sistema H√≠brido con WAL (Write-Ahead Logging)**  
   - Combina inmediatez de archivos con estructura de base de datos
   - Alto rendimiento con garant√≠as de consistencia
   - Complejidad de implementaci√≥n y mantenimiento

**Criterios de Elecci√≥n**:  
- Integridad y inmutabilidad de registros de auditor√≠a
- Capacidad de consulta y generaci√≥n de reportes de auditor√≠a
- Rendimiento del sistema durante operaciones de logging
- Cumplimiento de requisitos regulatorios
- Escalabilidad a largo plazo

**Decisi√≥n**:  
Se elige **Logging Estructurado con Base de Datos Dedicada** y **Hash de Verificaci√≥n**

**Sustento**:  
El logging estructurado en base de datos dedicada garantiza el 100% de auditor√≠a verificable requerido, proporcionando capacidades robustas de consulta y reporte. La inclusi√≥n de hashes de verificaci√≥n asegura la inmutabilidad de los registros, previniendo modificaciones no autorizadas. Esta soluci√≥n satisface los requisitos de control de auditor√≠a mientras mantiene un balance adecuado entre rendimiento, integridad y facilidad de uso para los administradores del sistema.

---
---

[‚¨ÖÔ∏è Anterior](../5.4/5.4.md) | [üè† Home](../../README.md) | [Siguiente ‚û°Ô∏è](../5.6/5.6.md)
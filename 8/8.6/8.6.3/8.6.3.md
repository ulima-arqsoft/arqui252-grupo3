> [8. Aplicaci√≥n de Patrones Arquitecturales](../../8.md) ‚Ä∫ [8.6. Listado Consolidado](../8.6.md) ‚Ä∫ [8.6.3. Patrones de Asignaci√≥n](8.6.3.md)

# 8.6.3. Patrones de Asignaci√≥n (Deployment)

## Patrones de Distribuci√≥n y Despliegue

Esta secci√≥n documenta c√≥mo los componentes del sistema InnovaLogix se asignan a la infraestructura local para desarrollo y pruebas.

---

## 1. Multi-Tier Architecture (Desarrollo Local)

**Decisi√≥n:**  
Arquitectura de 3 niveles con despliegue local en localhost.

**Niveles:**

### Tier 1: Presentation Tier (Frontend)
- **Componente:** Aplicaci√≥n React 19.2 (SPA)
- **Build Tool:** Vite 7.2
- **Puerto:** 5173 (desarrollo)
- **Tecnolog√≠a:** React, React Router 7.9, axios, Socket.IO client

### Tier 2: Application Tier (Backend)
- **Componentes:** 6 microservicios Node.js
  - Gateway: puerto 3000
  - Inventory: puerto 3001
  - CRM: puerto 3002
  - Purchases: puerto 3003
  - POS: puerto 3004
  - Reports: puerto 3005
- **Tecnolog√≠a:** Node.js 18+, Express 5.1, Socket.IO 4.8

### Tier 3: Data Tier (Databases)
- **Componentes:** 5 instancias PostgreSQL
  - Gateway DB: puerto 5432
  - Inventory DB: puerto 5433
  - CRM DB: puerto 5434
  - Purchases DB: puerto 5435
  - POS DB: puerto 5436
- **Tecnolog√≠a:** PostgreSQL 15+

**Beneficios:**
- Escalado independiente de cada tier
- Separaci√≥n de responsabilidades f√≠sicas
- Desarrollo local sin dependencias cloud

---

## 2. Process-per-Service Pattern

**Aplicaci√≥n:**  
Cada microservicio corre en su propio proceso Node.js.

**Componentes:**
- **Procesos:** 6 procesos Node.js independientes
- **Gesti√≥n:** Script PowerShell `start-all-services.ps1` inicia todos los servicios
- **Aislamiento:** Cada servicio puede fallar sin afectar otros

**Ventajas:**
- Aislamiento de fallas (crash de un servicio no afecta otros)
- Desarrollo independiente por servicio
- Testing de integraci√≥n realista

**Consideraciones:**
- Mayor consumo de memoria (6 procesos Node.js)
- Requiere coordinaci√≥n de puertos

---

## 3. Database per Service Pattern

**Aplicaci√≥n:**  
Cada microservicio tiene su propia instancia PostgreSQL.

**Estrategia de datos:**
- **Independencia:** Cada servicio gestiona su propio schema
- **Comunicaci√≥n:** Servicios intercambian datos via API REST
- **Aislamiento:** Sin queries cross-database

**Beneficios:**
- Autonom√≠a de datos por servicio
- Esquemas independientes (sin conflictos)
- Escalado independiente de DB

**Trade-offs:**
- Joins cross-service requieren m√∫ltiples queries
- Mayor complejidad en reportes agregados

---

## 4. Local Development Environment

**Herramientas:**
- **IDE:** Visual Studio Code
- **Control de versiones:** Git + GitHub
- **Testing API:** Postman / Thunder Client
- **DB Admin:** pgAdmin / DBeaver
- **Terminal:** PowerShell (Windows)

**Scripts de automatizaci√≥n:**
- `start-all-services.ps1`: Inicia todos los servicios
- `stop-all-services.ps1`: Detiene todos los servicios
- `populate_more_data.js`: Seed de datos de prueba

---

## 5. Service Discovery (Manual)

**Configuraci√≥n:**
- URLs hardcodeadas en variables de entorno
- Frontend conoce Gateway: `http://localhost:3000`
- Gateway conoce servicios: `http://localhost:3001`, etc.

**Futuro:**
- Implementar service registry (Consul/Eureka) para entornos producci√≥n

---

## Diagrama de Asignaci√≥n

```
[Frontend React]
   localhost:5173
         ‚Üì HTTP
   [API Gateway]
   localhost:3000
         ‚Üì HTTP
[Inventory:3001] [CRM:3002] [Purchases:3003] [POS:3004] [Reports:3005]
         ‚Üì               ‚Üì               ‚Üì               ‚Üì               ‚Üì
   [PG:5433]       [PG:5434]       [PG:5435]       [PG:5436]       [PG:5432]
```

---

---

[‚¨ÖÔ∏è Anterior](../8.6.2/8.6.2.md) | [üè† Home](../../../README.md) | [Siguiente ‚û°Ô∏è](../8.6.4/8.6.4.md)

---

[‚¨ÖÔ∏è Anterior](../8.6.2/8.6.2.md) | [üè† Home](../../../README.md) | [Siguiente ‚û°Ô∏è](../8.6.4/8.6.4.md)
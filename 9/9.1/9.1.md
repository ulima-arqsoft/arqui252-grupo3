> [9. Metodolog√≠a de Dise√±o de Arquitectura - Aplicaci√≥n de ADD](../9.md) ‚Ä∫ [9.1. Revisi√≥n de Entradas](9.1.md)

# 9.1. Revisi√≥n de Entradas

## Entrada al Proceso ADD

Esta secci√≥n documenta las entradas fundamentales que gu√≠an el proceso de dise√±o arquitect√≥nico mediante la metodolog√≠a ADD (Attribute-Driven Design) para el sistema InnovaLogix Retail ERP.

---

## 1. Requisitos Funcionales Priorizados

### RF-01: Registro de Ventas (M√≥dulo POS)
**Prioridad:** Alta  
**Descripci√≥n:** El sistema debe permitir el registro de ventas multiproducto con m√∫ltiples m√©todos de pago, c√°lculo autom√°tico de subtotales, impuestos y descuentos, y generaci√≥n de comprobantes.

**Casos de Uso Asociados:**
- CU-01: Registrar venta b√°sica
- CU-02: Aplicar descuentos y combos
- CU-03: Procesar pago m√∫ltiple (efectivo + tarjeta)
- CU-04: Generar comprobante (boleta/factura)

---

### RF-02: Control de Inventario (M√≥dulo Inventario)
**Prioridad:** Alta  
**Descripci√≥n:** Gesti√≥n completa del cat√°logo de productos con variantes (talla, color), control de stock por ubicaci√≥n, alertas de stock m√≠nimo, y registro de movimientos (kardex).

**Casos de Uso Asociados:**
- CU-05: Crear producto con variantes
- CU-06: Ajustar stock manualmente
- CU-07: Consultar kardex de movimientos
- CU-08: Configurar alertas de stock

---

### RF-03: Gesti√≥n de Compras (M√≥dulo Compras)
**Prioridad:** Media  
**Descripci√≥n:** Administraci√≥n de proveedores, creaci√≥n de √≥rdenes de compra con flujo de aprobaci√≥n, recepci√≥n de mercader√≠a, y actualizaci√≥n autom√°tica de stock.

**Casos de Uso Asociados:**
- CU-09: Registrar proveedor
- CU-10: Crear orden de compra
- CU-11: Aprobar/rechazar orden
- CU-12: Recepcionar mercader√≠a

---

### RF-04: Reportes y An√°lisis (M√≥dulo Reportes)
**Prioridad:** Media  
**Descripci√≥n:** Generaci√≥n de reportes de ventas, compras, inventario y rentabilidad con filtros m√∫ltiples, visualizaci√≥n en dashboards y exportaci√≥n a PDF/Excel.

**Casos de Uso Asociados:**
- CU-13: Generar reporte de ventas por per√≠odo
- CU-14: Analizar productos m√°s vendidos
- CU-15: Calcular rentabilidad por producto
- CU-16: Exportar reporte a Excel

---

### RF-05: Gesti√≥n de Clientes (M√≥dulo CRM)
**Prioridad:** Baja  
**Descripci√≥n:** Registro de clientes, programa de lealtad con acumulaci√≥n/canje de puntos, gesti√≥n de reclamos, y env√≠o de notificaciones por email.

**Casos de Uso Asociados:**
- CU-17: Registrar cliente
- CU-18: Acumular puntos por venta
- CU-19: Canjear puntos por descuento
- CU-20: Registrar reclamo

---

## 2. Atributos de Calidad (Escenarios QAW)

### QAW-01: Disponibilidad - Modo Offline POS
**Est√≠mulo:** P√©rdida de conexi√≥n a internet durante operaci√≥n del POS  
**Fuente:** Red inestable / ISP  
**Artefacto:** M√≥dulo de Ventas (frontend + IndexedDB)  
**Entorno:** Horario de atenci√≥n (8am-8pm)  
**Respuesta:** El sistema contin√∫a registrando ventas localmente y sincroniza autom√°ticamente al restaurar conexi√≥n  
**M√©trica:** 0% p√©rdida de datos, <10s tiempo de sincronizaci√≥n, UX sin degradaci√≥n significativa

---

### QAW-02: Rendimiento - B√∫squeda de Productos
**Est√≠mulo:** Usuario busca producto en cat√°logo de 5,000+ items  
**Fuente:** Cajero en POS  
**Artefacto:** API de b√∫squeda + √çndices de DB  
**Entorno:** Carga normal (10 usuarios concurrentes)  
**Respuesta:** Resultados de autocompletado mostrados en tiempo real  
**M√©trica:** P95 <200ms, P99 <500ms

---

### QAW-03: Seguridad - Control de Acceso
**Est√≠mulo:** Usuario intenta acceder a funci√≥n sin permisos (ej: ajustar stock)  
**Fuente:** Usuario con rol "Cajero"  
**Artefacto:** Sistema de autenticaci√≥n y autorizaci√≥n (RBAC)  
**Entorno:** Operaci√≥n normal  
**Respuesta:** Acceso denegado, intento registrado en log de auditor√≠a  
**M√©trica:** 100% de intentos bloqueados, log en <1s

---

### QAW-04: Usabilidad - Curva de Aprendizaje
**Est√≠mulo:** Nuevo cajero sin experiencia usa el sistema por primera vez  
**Fuente:** Usuario nuevo  
**Artefacto:** Interfaz de usuario del POS  
**Entorno:** Capacitaci√≥n inicial (10 min)  
**Respuesta:** Usuario completa venta b√°sica exitosamente  
**M√©trica:** Primera venta en <5 min, <10% tasa de error en primeras 10 ventas

---

### QAW-05: Mantenibilidad - Extensibilidad
**Est√≠mulo:** Desarrollador agrega nuevo m√©todo de pago (ej: billetera digital)  
**Fuente:** Equipo de desarrollo  
**Artefacto:** M√≥dulo de Ventas (PaymentService)  
**Entorno:** Desarrollo  
**Respuesta:** Funcionalidad implementada sin afectar otros m√≥dulos  
**M√©trica:** <8 horas de desarrollo, 0 regresiones en tests existentes

---

## 3. Restricciones (Constraints)

### Restricciones T√©cnicas

**CON-01: Stack Tecnol√≥gico**
- **Frontend:** React 18+ (obligatorio por experiencia del equipo)
- **Backend:** Node.js 18+ con Express 4.x
- **Base de Datos:** PostgreSQL 15+ (no NoSQL por requisitos ACID)
- **Justificaci√≥n:** Equipo tiene 2+ a√±os de experiencia en MERN stack

**CON-02: Plataforma de Deployment**
- **Frontend:** Vercel (plan gratuito inicialmente)
- **Backend + DB:** Render (plan gratuito/starter)
- **Justificaci√≥n:** Presupuesto limitado para MVP, escalabilidad futura

**CON-03: Compatibilidad de Navegadores**
- Soporte para Chrome 90+, Edge 90+, Firefox 88+ (√∫ltimas 2 versiones)
- No soporta IE11 ni navegadores m√≥viles antiguos
- **Justificaci√≥n:** Estaciones de trabajo controladas (PCs de la tienda)

---

### Restricciones de Negocio

**CON-04: Presupuesto y Tiempo**
- Presupuesto total: $0 (infraestructura gratuita)
- Tiempo de desarrollo: 4 meses (16 sprints de 1 semana)
- Equipo: 3 desarrolladores full-stack

**CON-05: Requisitos Legales**
- Cumplimiento futuro con facturaci√≥n electr√≥nica SUNAT (Per√∫)
- GDPR no aplica (datos solo de clientes peruanos)
- Retenci√≥n de datos: m√≠nimo 5 a√±os (ley tributaria peruana)

**CON-06: Integraci√≥n con Sistemas Existentes**
- No hay sistemas legacy (greenfield project)
- Integraci√≥n futura con pasarelas de pago locales (Niubiz, Izipay)

---

## 4. Preocupaciones Arquitect√≥nicas (Architectural Concerns)

### CRN-01: Modularidad y Separaci√≥n de Responsabilidades
**Descripci√≥n:** El sistema debe organizarse en m√≥dulos cohesivos con responsabilidades claras para facilitar mantenimiento y evoluci√≥n.  
**Impacto:** Afecta estructura de c√≥digo, deployment, y escalabilidad futura.

---

### CRN-02: Resiliencia y Tolerancia a Fallos
**Descripci√≥n:** Operaci√≥n del POS es cr√≠tica; ca√≠das de red o servicios no deben detener ventas.  
**Impacto:** Requiere estrategias offline-first, caching, y manejo de errores robusto.

---

### CRN-03: Seguridad y Auditor√≠a
**Descripci√≥n:** Datos sensibles (ventas, clientes, inventario) requieren protecci√≥n y trazabilidad completa.  
**Impacto:** Autenticaci√≥n, autorizaci√≥n, encriptaci√≥n, logging, y cumplimiento legal.

---

### CRN-04: Rendimiento y Escalabilidad
**Descripci√≥n:** Sistema debe responder r√°pido con 10-20 usuarios concurrentes inicialmente, pero escalar a 50+ en futuro.  
**Impacto:** Optimizaci√≥n de queries, caching, arquitectura preparada para escalado horizontal.

---

### CRN-05: Usabilidad y Experiencia de Usuario
**Descripci√≥n:** Interfaz debe ser intuitiva para usuarios con poca experiencia tecnol√≥gica.  
**Impacto:** Dise√±o UX simple, validaciones claras, feedback inmediato, minimizar pasos.

---

## 5. Decisiones Arquitect√≥nicas Previas

**DEC-00: Arquitectura Monol√≠tica Modular (Decisi√≥n Previa)**
- **Descripci√≥n:** Se descart√≥ microservicios en favor de monolito modular por simplicidad operacional y tama√±o del equipo.
- **Justificaci√≥n:** Equipo peque√±o (3 devs), sin experiencia en orquestaci√≥n de microservicios (Kubernetes), complejidad innecesaria para MVP.
- **Consecuencias:** Deployment m√°s simple, debugging m√°s f√°cil, pero escalabilidad limitada inicialmente.

---

## 6. Contexto del Sistema

### Stakeholders Clave

| Stakeholder | Rol | Preocupaciones |
|-------------|-----|----------------|
| Due√±o de Tienda | Sponsor | ROI, reducci√≥n de errores en ventas, reportes para toma de decisiones |
| Cajeros | Usuario Final | Facilidad de uso, rapidez en ventas, m√≠nima capacitaci√≥n |
| Almacenero | Usuario Final | Control preciso de stock, alertas oportunas |
| Contador | Usuario Secundario | Reportes fiscales precisos, integraci√≥n futura con SUNAT |
| Equipo de Desarrollo | Implementadores | Mantenibilidad, documentaci√≥n, testing |

---

### Restricciones del Entorno

**Hardware disponible:**
- 3 PCs en caja (Windows 10, 8GB RAM, i3 8th gen)
- 1 PC en almac√©n (similar)
- 1 servidor local NO disponible (todo cloud)

**Conectividad:**
- Internet: 20 Mbps sim√©trico (ISP: Movistar Per√∫)
- Ca√≠das: ~2 veces/semana, duraci√≥n promedio 30 min
- Sin red local compleja (solo WiFi b√°sico)

---

## 7. Priorizaci√≥n de Drivers Arquitect√≥nicos

| ID | Driver | Tipo | Prioridad | Iteraci√≥n ADD |
|----|--------|------|-----------|---------------|
| QAW-01 | Disponibilidad (Offline) | Calidad | Alta | Iteraci√≥n 1 |
| RF-01 | Registro de Ventas | Funcional | Alta | Iteraci√≥n 1 |
| RF-02 | Control de Inventario | Funcional | Alta | Iteraci√≥n 2 |
| QAW-02 | Rendimiento (B√∫squeda) | Calidad | Media | Iteraci√≥n 2 |
| QAW-03 | Seguridad (RBAC) | Calidad | Alta | Iteraci√≥n 1 |
| RF-04 | Reportes | Funcional | Media | Iteraci√≥n 3 |
| QAW-05 | Mantenibilidad | Calidad | Media | Transversal |
| RF-05 | CRM | Funcional | Baja | Iteraci√≥n 3 |

---

## 8. Resumen de Entradas

**Total de Requisitos Funcionales:** 20 casos de uso en 5 m√≥dulos  
**Total de Escenarios de Calidad:** 5 (QAW-01 a QAW-05)  
**Total de Restricciones:** 6 (CON-01 a CON-06)  
**Total de Preocupaciones:** 5 (CRN-01 a CRN-05)  

**Pr√≥ximo Paso:** Iteraci√≥n 1 del proceso ADD enfocada en establecer la estructura general del sistema, priorizando los drivers de alta prioridad (QAW-01, RF-01, RF-02, QAW-03).

---

[üè† Home](../../README.md) | [Siguiente ‚û°Ô∏è](../9.2/9.2.md)
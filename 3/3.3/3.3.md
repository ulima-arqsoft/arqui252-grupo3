# 3.3. Consolidación de Escenarios

| ID       | Atributo de Calidad | Estímulo | Respuesta | ID Escenario Preliminar | Sustento | Comentarios |
|----------|------------------|----------|-----------|-----------------------|----------|-------------|
| CONS-01  | Rendimiento       | Usuario accede al perfil de ventas con múltiples productos | La vista se carga completamente en <2s | ESC-04, ESC-17, ESC-24 | Optimización en consultas y scroll | Comprobable desde /sales |
| CONS-02  | Seguridad         | Usuario accede a ruta protegida sin token | Redirección automática a /login | ESC-02, ESC-05, ESC-10 | Middleware JWT activo | Verificable sin token |
| CONS-03  | Disponibilidad    | Consulta de inventario falla temporalmente | Se muestra mensaje de error sin afectar otras funciones | ESC-18, ESC-30, ESC-50 | Tolerancia a fallos |  |
| CONS-04  | Compatibilidad    | Usuario accede desde distintos navegadores y dispositivos | Sistema funciona correctamente y sin errores visuales | ESC-30, ESC-42, ESC-52 | Pruebas cross-browser y responsive | Mobile-ready y desktop-ready |
| CONS-05  | Mantenibilidad    | Se modifica componente de ticket o comprobante | Cambios no afectan otras funciones | ESC-07, ESC-12, ESC-28 | Componentes desacoplados | Modularidad clara |
| CONS-06  | Rendimiento       | Usuario aplica filtros en productos o categorías | Vista responde sin recargar toda la página | ESC-14, ESC-24, ESC-31 | Filtros y scroll optimizados |  |
| CONS-07  | Seguridad         | Token inválido o expirado | Sistema bloquea y redirige al login | ESC-07, ESC-29, ESC-58 | Validación JWT activa | Frontend y backend |
| CONS-08  | Interoperabilidad | Usuario consulta cliente con historial de compras | Datos integrados y consistentes | ESC-08, ESC-23, ESC-42 | Servicios internos interactúan | Navegable desde /crm |
| CONS-09  | Confiabilidad     | Usuario registra venta y se corta la conexión | Al reconectar, la acción no se duplica | ESC-09, ESC-18, ESC-40 | Protección contra doble envío | Transacciones controladas |
| CONS-10  | Seguridad         | Usuario intenta modificar venta de otro usuario | Acción bloqueada | ESC-05, ESC-10, ESC-33 | Control de acceso por rol | JWT identifica userId único |
| CONS-11  | Escalabilidad     | Muchos usuarios acceden simultáneamente | Respuesta <5s | ESC-16, ESC-39, ESC-49 | Consultas indexadas y optimizadas |  |
| CONS-12  | Disponibilidad    | Fallo temporal al registrar compra | Sistema muestra error sin interrumpir otras funciones | ESC-03, ESC-12, ESC-20 | Manejo de errores gracefull | Testable en entorno local |
| CONS-13  | Rendimiento       | Usuario consulta listado largo de productos | Vista carga sin saltos ni lag | ESC-15, ESC-36, ESC-56 | Scroll y paginación optimizados | Comprobable con dataset grande |
| CONS-14  | Testabilidad      | Ejecutar pruebas de endpoints o simulaciones | Todos responden correctamente o muestran mensaje controlado | ESC-19, ESC-33, ESC-46 | Postman + mocks | Validable en entorno local |
| CONS-15  | Usabilidad        | Nuevo usuario consulta clientes o historial | Mensajes claros de bienvenida y guía | ESC-51, ESC-53 | UX onboarding | Implementable fácilmente |
| CONS-16  | Seguridad         | Intento de XSS, SQLi o token malformado | Backend y frontend bloquean la acción | ESC-21, ESC-33, ESC-58 | Validaciones en Node y React | Prevención de ataques |
| CONS-17  | Usabilidad        | Usuario edita solo campos de cliente | Solo se actualizan los campos modificados | ESC-06, ESC-37, ESC-59 | Edición parcial | UX |
| CONS-18  | Compatibilidad    | Usuario con conexión lenta | Contenido carga progresivamente | ESC-52, ESC-55 | Lazy loading | UX adaptable |
| CONS-19  | Despliegue        | Nueva versión con errores | Contenedores previos siguen activos o rollback | ESC-44, ESC-49, ESC-60 | Docker resiliente |  |
| CONS-20  | Rendimiento       | Consulta de stock grande | Vista lista en <3s | ESC-20, ESC-40, ESC-45 | Queries optimizadas | Demostrable con dataset grande |
| CONS-21  | Usabilidad        | Usuario interactúa con promociones o puntos | Sistema responde con indicadores claros | ESC-35, ESC-41 | UX clara y consistente | Demostrable en front |
| CONS-22  | Confiabilidad     | Usuario cierra sesión abruptamente | Sistema protege datos y cierra sesión | ESC-47, ESC-39 | Manejo de sesión reactivo |  |
| CONS-23  | Interoperabilidad | Integración futura con proveedores o API de stock | Sistema funciona sin afectar módulos existentes | ESC-13, ESC-42, ESC-23 | Arquitectura monolítica modular | Rutas independientes |
| CONS-24  | Mantenibilidad    | Actualización de lógica de stock, ranking o scroll | Solo se modifica el módulo implicado | ESC-18, ESC-46, ESC-57 | Alta cohesión | Separación funcional sólida |
| CONS-25  | Privacidad        | Datos de clientes o fidelización | No se exponen identificadores ni información sensible | ESC-32, ESC-44 | Prompt y backend anonimizado |  |


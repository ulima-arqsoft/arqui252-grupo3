# Catálogo de Aplicaciones - InnovaLogix

## Frontend

**Tipo:** SPA React  
**Tecnología:** React 19.2, Vite 7.2, React Router 7.9  
**Puerto:** 5173 (dev)

**Dependencias:**
- react, react-dom, react-router-dom
- axios (HTTP client)
- socket.io-client 4.8 (WebSocket)
- jspdf, jspdf-autotable (generación PDFs)
- lucide-react (iconos)

**Módulos UI:**
- Dashboard
- POS (Punto de Venta)
- Inventario
- Compras
- Reportes
- CRM (Clientes, Fidelización, Reclamos)

---

## Backend - Microservicios

### API Gateway
**Puerto:** 3000  
**Tecnología:** Express 5.1, Node.js  
**Responsabilidad:** Enrutamiento, rate limiting, CORS

**Dependencias:**
- express 5.1
- express-rate-limit 7.1
- axios 1.6
- cors 2.8

---

### Inventory Service
**Puerto:** 3001  
**Tecnología:** Express 5.1, PostgreSQL, Socket.IO 4.8  
**Responsabilidad:** Gestión productos, stock, kardex, cache

**Dependencias:**
- express 5.1
- pg 8.16 (PostgreSQL)
- node-cache 5.1 (TTL 10 min)
- socket.io 4.8 (eventos `stockUpdate`)

**Endpoints:**
- GET /api/products
- POST /api/products
- PUT /api/products/:id
- DELETE /api/products/:id
- GET /api/inventory/low-stock
- PUT /api/inventory/update-stock
- GET /api/inventory/movements (kardex)

---

### CRM Service
**Puerto:** 3002  
**Tecnología:** Express 5.1, PostgreSQL, Socket.IO 4.8  
**Responsabilidad:** Clientes, fidelización, reclamos, encuestas

**Endpoints:**
- GET /api/customers
- POST /api/customers
- GET /api/loyalty/:customerId
- POST /api/complaints
- POST /api/surveys

---

### Purchases Service
**Puerto:** 3003  
**Tecnología:** Express 5.1, PostgreSQL, Socket.IO 4.8  
**Responsabilidad:** Proveedores, órdenes de compra, comparación precios

**Endpoints:**
- GET /api/suppliers
- POST /api/suppliers
- GET /api/purchases
- POST /api/purchases
- PUT /api/purchases/:id/confirm
- GET /api/purchases/price-comparison

---

### POS Service
**Puerto:** 3004  
**Tecnología:** Express 5.1, PostgreSQL, Socket.IO 4.8  
**Responsabilidad:** Ventas rápidas, generación comprobantes

**Endpoints:**
- POST /api/sales
- GET /api/sales
- GET /api/sales/:id
- GET /api/sales/:id/receipt

---

### Reports Service
**Puerto:** 3005  
**Tecnología:** Express 5.1, PostgreSQL  
**Responsabilidad:** Reportes, exportación PDF/Excel, gráficos

**Endpoints:**
- GET /api/reports/sales
- GET /api/reports/inventory
- GET /api/reports/profitability
- GET /api/reports/export/pdf
- GET /api/reports/export/excel

---

## Bases de Datos

**Tecnología:** PostgreSQL 15+  
**Instancias:** 5 (una por servicio)

**Puertos:**
- Gateway DB: 5432
- Inventory DB: 5433
- CRM DB: 5434
- Purchases DB: 5435
- POS DB: 5436

**Configuración:**
- Connection pool: 10 conexiones
- SSL: No requerido (desarrollo local)
- Transacciones ACID
- Índices en FK y campos de búsqueda frecuente

---

## Comunicación

**REST API:**
- Endpoints HTTP con JSON
- Queries parametrizadas (seguridad SQL injection)
- CORS habilitado

**WebSocket (Socket.IO 4.8):**
- `stockUpdate`: cambios inventario
- `newCustomer`: clientes nuevos
- `purchaseCreated`: órdenes de compra
- `saleCompleted`: ventas completadas

**Cache:**
- node-cache 5.1 (in-memory)
- TTL: 600s (10 minutos)
- Hit rate: ~75%
- Invalidación automática en escrituras

---

## Herramientas

**Desarrollo:**
- Vite (build tool frontend)
- ESLint (linting)
- Git (control versiones)

**Base de Datos:**
- pgAdmin / DBeaver (administración PostgreSQL)
- Scripts SQL (migrations, seeders)

**Testing:**
- Postman / Thunder Client (API testing)
- Scripts de prueba en `/test_api.js`
